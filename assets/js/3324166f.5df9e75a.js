"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1007],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>m});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=a.createContext({}),c=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(r),m=n,k=d["".concat(s,".").concat(m)]||d[m]||u[m]||o;return r?a.createElement(k,i(i({ref:t},p),{},{components:r})):a.createElement(k,i({ref:t},p))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,i[1]=l;for(var c=2;c<o;c++)i[c]=r[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},9196:(e,t,r)=>{r.r(t),r.d(t,{frontMatter:()=>l,contentTitle:()=>s,metadata:()=>c,toc:()=>p,default:()=>d});var a=r(87462),n=r(63366),o=(r(67294),r(3905)),i=["components"],l={id:"error-rail-http-tutorial",title:"Clean Error Messages with the Error Rail",sidebar_label:"Clean Error Messages with the Error Rail"},s=void 0,c={unversionedId:"tutorials/error-rail-http-tutorial",id:"tutorials/error-rail-http-tutorial",isDocsHomePage:!1,title:"Clean Error Messages with the Error Rail",description:"In this tutorial, we will be showing you how to use the error rail with",source:"@site/docs/tutorials/error-rail-http-tutorial.md",sourceDirName:"tutorials",slug:"/tutorials/error-rail-http-tutorial",permalink:"/tutorials/error-rail-http-tutorial",editUrl:"https://github.com/darklang/docs/edit/main/docs/tutorials/error-rail-http-tutorial.md",tags:[],version:"current",frontMatter:{id:"error-rail-http-tutorial",title:"Clean Error Messages with the Error Rail",sidebar_label:"Clean Error Messages with the Error Rail"},sidebar:"Tutorials",previous:{title:"Twilio tutorial",permalink:"/tutorials/twilio-app-tutorial"},next:{title:"Alerting with IFTTT",permalink:"/tutorials/ifttt-alerts"}},p=[],u={toc:p};function d(e){var t=e.components,l=(0,n.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},u,l,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"In this tutorial, we will be showing you how to use the error rail with\n",(0,o.kt)("inlineCode",{parentName:"p"},"HttpClient::get")," to display clean error messages. We will be using the\n",(0,o.kt)("a",{parentName:"p",href:"https://pokeapi.co/"},"PokeAPI"),", as it is publicly available and requires no\nspecial authentication."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Create a new function from the omnibox or sidebar. Call this function\n",(0,o.kt)("inlineCode",{parentName:"li"},"pokeSearch")," and add a Pokemon parameter with type ",(0,o.kt)("inlineCode",{parentName:"li"},"String"),".")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"error-rail/pokeSearch.png",src:r(57350).Z})),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Now, use your new function by creating a new REPL named search and calling\nyour ",(0,o.kt)("inlineCode",{parentName:"li"},"pokeSearch")," function with ",(0,o.kt)("inlineCode",{parentName:"li"},'"ditto"')," as the parameter.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"error-rail/ditto.png",src:r(30869).Z})),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Return to your function and check your traces - you should see a new one with\n",(0,o.kt)("inlineCode",{parentName:"li"},'"ditto".'))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"error-rail/dittoTrace.png",src:r(22896).Z})),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},"Create your URL by concatenating ",(0,o.kt)("inlineCode",{parentName:"li"},"https://pokeapi.co/api/v2/pokemon/")," with\nyour parameter.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"error-rail/url.png",src:r(42088).Z})),(0,o.kt)("ol",{start:5},(0,o.kt)("li",{parentName:"ol"},"Write your ",(0,o.kt)("inlineCode",{parentName:"li"},"HttpClient::get")," call.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"error-rail/data.png",src:r(48191).Z})),(0,o.kt)("ol",{start:6},(0,o.kt)("li",{parentName:"ol"},"Return the results of your ",(0,o.kt)("inlineCode",{parentName:"li"},"HttpClient::get"),". Note the check mark in the\ncircle to the right of your call - this is indicating that your function is\non the Error Rail, and that it isn't returning an error.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"error-rail/returnData.png",src:r(39852).Z})),(0,o.kt)("ol",{start:7},(0,o.kt)("li",{parentName:"ol"},"Return to your ",(0,o.kt)("inlineCode",{parentName:"li"},"search")," REPL and enter anything other than the name of an\nactual Pokemon. I chose ",(0,o.kt)("inlineCode",{parentName:"li"},'"pikawho"'),". Then, run your REPL again to see the\n",(0,o.kt)("inlineCode",{parentName:"li"},"Error")," trace.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"error-rail/error.png",src:r(41529).Z})),(0,o.kt)("ol",{start:8},(0,o.kt)("li",{parentName:"ol"},"Return to your ",(0,o.kt)("inlineCode",{parentName:"li"},"pokeSearch")," function, and note that the check mark has\nchanged to a red exclamation point, indicating that there is an error.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"error-rail/errorpoint.png",src:r(49553).Z})),(0,o.kt)("ol",{start:9},(0,o.kt)("li",{parentName:"ol"},"Place your cursor in ",(0,o.kt)("inlineCode",{parentName:"li"},"HttpClient::get,"),(0,o.kt)("a",{parentName:"li",href:"../structured-editing#command-palette"},"open the command palette"),", and select\n",(0,o.kt)("inlineCode",{parentName:"li"},"take-function-off-rail"),".")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"error-rail/offrail.png",src:r(7763).Z})),(0,o.kt)("ol",{start:10},(0,o.kt)("li",{parentName:"ol"},"Once you do, you'll notice that the Error Rail icon on the right disappears,\nand your return trace will update.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"error-rail/errorTrace.png",src:r(49629).Z})),(0,o.kt)("ol",{start:11},(0,o.kt)("li",{parentName:"ol"},"Now, we're going to use a ",(0,o.kt)("inlineCode",{parentName:"li"},"match")," on ",(0,o.kt)("inlineCode",{parentName:"li"},"data")," to return the result we want.\nHere, I've said that if ",(0,o.kt)("inlineCode",{parentName:"li"},"data")," returns an ",(0,o.kt)("inlineCode",{parentName:"li"},"Ok")," we can just return data, and\nif ",(0,o.kt)("inlineCode",{parentName:"li"},"data")," returns an ",(0,o.kt)("inlineCode",{parentName:"li"},"Error")," we will print out a nice error message.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"error-rail/niceError.png",src:r(42970).Z})),(0,o.kt)("ol",{start:12},(0,o.kt)("li",{parentName:"ol"},"Return to your ",(0,o.kt)("inlineCode",{parentName:"li"},"search")," REPL, and re-run it. You'll see your nicely\nformatted error message.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"error-rail/replError.png",src:r(19280).Z})),(0,o.kt)("ol",{start:13},(0,o.kt)("li",{parentName:"ol"},"Try again with the name of a real Pokemon to confirm that, when there is no\nerror, ",(0,o.kt)("inlineCode",{parentName:"li"},"data")," is returned.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"error-rail/correctName.png",src:r(21241).Z})),(0,o.kt)("p",null,"Congratulations! You've now successfully taken a function off of the error rail\nto write a custom error message!"))}d.isMDXComponent=!0},21241:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/correctName-e41e5f8ebcf9ec34db2a2b86f96e5cba.png"},48191:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/data-f8189a0e8a270df805407298b2ea2ad6.png"},30869:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/ditto-2d7db1f43109fe2b877cee6c3ad71351.png"},22896:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/dittoTrace-f3e859fe1cda54ae2090c9086a151cb0.png"},41529:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/error-96b0e97c4fb66f7dac93638074886aff.png"},49629:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/errorTrace-63d9b834098f52814844dc95758adcdc.png"},49553:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/errorpoint-30c29e3fa4ce0cfb87581e8f39830233.png"},42970:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/niceError-52f8d4439553a7c8a149f0fdbc3a9e33.png"},7763:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/offrail-6b19f646798673722da593244da63e33.png"},57350:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/pokeSearch-fbd2304786e2c8f75b75d152fd39ece1.png"},19280:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/replError-91ee7d19a0f01c9f96746a876511942f.png"},39852:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/returnData-c35f9832c83ba7743ed0627c61b7ce82.png"},42088:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/url-c10c8212e4b2ff3b1f6504eb9a506e15.png"}}]);