(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{213:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return l})),n.d(t,"rightToc",(function(){return b})),n.d(t,"default",(function(){return s}));var a=n(2),r=n(11),i=(n(0),n(242)),o={id:"your-first",title:"Your First App",sidebar_label:"Your First App"},l={id:"your-first",isDocsHomePage:!1,title:"Your First App",description:"We're going to take you through a tutorial to build an entire application that",source:"@site/docs/your-first.md",permalink:"/your-first",sidebar_label:"Your First App",sidebar:"docs",previous:{title:"Hello World!",permalink:"/introduction"},next:{title:"From Python",permalink:"/from-python"}},b=[{value:"Support",id:"support",children:[]},{value:"Your Canvas",id:"your-canvas",children:[]},{value:"API Endpoint",id:"api-endpoint",children:[]},{value:"REPL",id:"repl",children:[]},{value:"Datastore",id:"datastore",children:[]},{value:"Cron",id:"cron",children:[]},{value:"Worker",id:"worker",children:[]},{value:"Function",id:"function",children:[]},{value:"External API Call",id:"external-api-call",children:[]},{value:"Finishing Touches",id:"finishing-touches",children:[]},{value:"One Last Thing",id:"one-last-thing",children:[]}],c={rightToc:b};function s(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},c,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"We're going to take you through a tutorial to build an entire application that\nuses Dark's basic functionality. This should take between 10m and 45m, depending\non how thorough you are."),Object(i.b)("p",null,"If your account was created after March 2020, you can see a completed version of\nthis tutorial at ",Object(i.b)("em",{parentName:"p"},"darklang.com/a/USERNAME-gettingstarted"),". If you'd like to\nstart from scratch, navigate to a fresh canvas\n(",Object(i.b)("em",{parentName:"p"},"darklang.com/a/USERNAME-gettingstarted2"),", for example.)"),Object(i.b)("p",null,"A completed version of this tutorial, is also available at\n",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://darklang.com/a/sample-gettingstarted"}),"https://darklang.com/a/sample-gettingstarted"),".\nNote that you should ",Object(i.b)("strong",{parentName:"p"},"not")," copy/paste this ","\u2013"," we want to teach you to use\nthe Dark editor."),Object(i.b)("h3",{id:"support"},"Support"),Object(i.b)("p",null,"If you'd like some help, come to the\n",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://darklang.com/slack-invite"}),"Dark Community Slack"),". Dark engineers answer\nquestions, talk you through issues, and fix bugs, often within minutes. Lots of\nexperienced community members are also around to offer helpful suggestions."),Object(i.b)("h2",{id:"your-canvas"},"Your Canvas"),Object(i.b)("p",null,"A Dark canvas is an integrated development environment (IDE), an HTTP client,\nand a web server. You'll write code in the canvas with all the functionality you\nexpect from an IDE (text editing as well as code completion and debugging). The\ncanvas can compose and send HTTP requests, similar to API query tools such as\ncurl, Postman, or Insomnia. Finally, the canvas is a web application server: The\ncanvas can receive HTTP requests (including webhooks, requests from an ordinary\nbrowser, or even another canvas). The Dark IDE runs in your browser at\n",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://darklang.com/a/USERNAME-gettingstarted"}),"https://darklang.com/a/USERNAME-gettingstarted"),"\nand the Dark server responds to HTTP requests at\n",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://USERNAME-gettingstarted.builtwithdark.com/"}),"https://USERNAME-gettingstarted.builtwithdark.com/"),"."),Object(i.b)("h2",{id:"api-endpoint"},"API Endpoint"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Concepts:")," Structural elements, blanks, implicit returns, traces."),Object(i.b)("p",null,"Here you'll use the IDE to write code (an API endpoint) that responds to a\nbrowser HTTP request."),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Create a new HTTP endpoint from the omnibox (click anywhere on the screen or\nhit ",Object(i.b)("inlineCode",{parentName:"li"},"Cmd-k"),"/",Object(i.b)("inlineCode",{parentName:"li"},"Ctrl-k"),"), or from the plus next to ",Object(i.b)("inlineCode",{parentName:"li"},"HTTP")," on the sidebar.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_9.10.26_AM.png",alt:"gettingstarted/Screen_Shot_2020-02-11_at_9.10.26_AM.png"}))),Object(i.b)("ol",{start:2},Object(i.b)("li",{parentName:"ol"},"Enter the HTTP verb as ",Object(i.b)("inlineCode",{parentName:"li"},"GET")," and ",Object(i.b)("inlineCode",{parentName:"li"},"/math")," for the route.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_9.11.23_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_9.11.23_AM.png"}))),Object(i.b)("ol",{start:3},Object(i.b)("li",{parentName:"ol"},"You can now write any code in the blank ","\u2013"," this is the return value of\nthe API endpoint that you've just created. To start with, let's just return\n",Object(i.b)("inlineCode",{parentName:"li"},"4"),".")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_9.12.02_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_9.12.02_AM.png"}))),Object(i.b)("ol",{start:4},Object(i.b)("li",{parentName:"ol"},'Click the handler\'s menu (\u2630) in the upper right and select "open in new tab",\nto see your API endpoint running in production.')),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_9.12.43_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_9.12.43_AM.png"}))),Object(i.b)("ol",{start:5},Object(i.b)("li",{parentName:"ol"},"Go back to Dark to edit your code. Add ",Object(i.b)("inlineCode",{parentName:"li"},"+ 5")," to the end of the code and leave\nyour cursor in line.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_9.14.25_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_9.14.25_AM.png"}))),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"The ",Object(i.b)("inlineCode",{parentName:"p"},"9")," below the handler shows you the return value for the handler.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"The ",Object(i.b)("inlineCode",{parentName:"p"},"5")," on the left shows you the result of the expression where the cursor\ncurrently is (in this case, 5). This isn't very useful when it's an integer,\nbut if it's a variable it will show you the result of the variable."))),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_9.16.06_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_9.16.06_AM.png"}))),Object(i.b)("ol",{start:6},Object(i.b)("li",{parentName:"ol"},'Mouse over the white dots on the left. Each dot is a "trace", representing a\nsingle request to your handler. Traces are fundamental to coding in Dark, and\nwe\'ll come back to them later.')),Object(i.b)("p",null,"Congratulations! You've shipped your first Dark API endpoint."),Object(i.b)("h2",{id:"repl"},"REPL"),Object(i.b)("p",null,"Here you'll use the IDE to write code that sends an HTTP request. You'll use the\nHttpClient library to make an API call from an interactive interpreter (often\ncalled a REPL or Read-Eval-Print Loop)."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Concepts:")," REPLs, HttpClient library, Play buttons"),Object(i.b)("p",null,"REPLs in Dark are general-purpose coding blocks. They're typically used in the\nway you might write a bash script (reusable tools), use traditional REPLs\n(experiments and one-off commands), or admin dashboards (simple reporting)."),Object(i.b)("p",null,"We'll run you through creating your first REPL, experimenting with the\nHttpClient library to make API calls."),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Create a new REPL from the sidebar or the omnibox (",Object(i.b)("inlineCode",{parentName:"p"},"Ctrl-K"),"/",Object(i.b)("inlineCode",{parentName:"p"},"Cmd-K"),").")),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},'Type "httpclient" in the REPL (lowercase, no spaces)'))),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_9.20.25_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_9.20.25_AM.png"}))),Object(i.b)("p",null,"This will show you all the standard library functions for HttpClient, their\nsignatures, and their docstrings."),Object(i.b)("ol",{start:3},Object(i.b)("li",{parentName:"ol"},'Continue typing, until you have "httpclientpost". Dark autocompletes on\nsubstrings so getting the exact text isn\'t important:')),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_9.21.21_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_9.21.21_AM.png"}))),Object(i.b)("ol",{start:4},Object(i.b)("li",{parentName:"ol"},"Hit enter to add the function into the handler.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_9.22.01_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_9.22.01_AM.png"}))),Object(i.b)("p",null,"Dark automatically creates blanks for the four arguments that ",Object(i.b)("inlineCode",{parentName:"p"},"HttpClient::post"),"\nrequires (URI, body, query, and headers). We display a gray play button beside\nthe function ","\u2013"," it will turn green when all the arguments are complete,\nallowing you to run the function from within the editor."),Object(i.b)("p",null,"The URI is the destination of our HTTP request (an API endpoint). We could make\na request to any web server; for this tutorial, we'll make a request to the\ncanvas we're working in. We haven't yet written the code that will respond to\nthe request; you'll see what happens when the canvas receives a request without\na prepared endpoint. The canvas will respond with a 404 \"page not found\"\nresponse."),Object(i.b)("ol",{start:5},Object(i.b)("li",{parentName:"ol"},"Let's call a new ",Object(i.b)("inlineCode",{parentName:"li"},"/test")," endpoint for the application we're developing. As we\nsaw from the GET, our endpoints live at\nUSERNAME-gettingstarted.builtwithdark.com, so enter a string like\n",Object(i.b)("inlineCode",{parentName:"li"},'"https://USERNAME-gettingstarted.builtwithdark.com/test"'),'. Be sure that\nyou\'ve substituted your username correctly. Also be sure you are using the\ncorrect canvas name (for example, if you send the request to\n"mygettingstarted" or "getingstarted" the wrong canvas will respond and you\nwill not see the 404 result).')),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_9.24.08_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_9.24.08_AM.png"}))),Object(i.b)("ol",{start:6},Object(i.b)("li",{parentName:"ol"},"Next let's add the arguments. The structured editor simplifies creation of\nthe arguments we want:")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"For the body, we want to pass ",Object(i.b)("inlineCode",{parentName:"li"},'{test:"test1"}'),": type ",Object(i.b)("inlineCode",{parentName:"li"},"{"),", hit enter, then add\nthe key and the value."),Object(i.b)("li",{parentName:"ul"},"For the query, we want an empty dictionary. Type ",Object(i.b)("inlineCode",{parentName:"li"},"{"),"."),Object(i.b)("li",{parentName:"ul"},"For the header, we want the JSON content-type: type ",Object(i.b)("inlineCode",{parentName:"li"},"json")," and the\nautocomplete will offer you a function to use.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_10.41.50_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_10.41.50_AM.png"}))),Object(i.b)("ol",{start:7},Object(i.b)("li",{parentName:"ol"},"Once we've filled in all the arguments, the play button (\u25b6\ufe0f) next to the\nfunction turns green, which means we can execute this code from within the\neditor.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_10.42.45_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_10.42.45_AM.png"}))),Object(i.b)("ol",{start:8},Object(i.b)("li",{parentName:"ol"},"Hitting play we receive a 404 response. This is because there's no ",Object(i.b)("inlineCode",{parentName:"li"},"/test"),"\nendpoint on our canvas (yet!)")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_10.43.39_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_10.43.39_AM.png"}))),Object(i.b)("ol",{start:9},Object(i.b)("li",{parentName:"ol"},"404s in Dark appear in the 404 section of the sidebar. We'll discuss that\nmore later.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_10.44.10_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_10.44.10_AM.png"}))),Object(i.b)("p",null,"Congratulations! You've built your first REPL and called your first function in\nDark."),Object(i.b)("h2",{id:"datastore"},"Datastore"),Object(i.b)("p",null,"In the last section, we made a HTTP request that created a 404. We'll use ",Object(i.b)("em",{parentName:"p"},"the\ntrace")," of that HTTP request to build an endpoint, a technique we call ",Object(i.b)("strong",{parentName:"p"},"Trace\nDriven Development"),"."),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Hit the plus (+) button in the 404 section of the sidebar. This creates a\nHTTP endpoint with the HTTP verb (POST) and path (/test) set from the request\nthat creates the 404. Notice that the 404 event disappears from the sidebar.\nThat's because we've created an endpoint that will respond to the request.\nMaking another request will not create another 404 result; instead it will\nadd another trace to the new endpoint (a trace is represented as a white\ndot).")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_10.44.54_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_10.44.54_AM.png"}))),Object(i.b)("ol",{start:2},Object(i.b)("li",{parentName:"ol"},"Hover over the white dot on the left hand side. Here, you can see the full\nbody of the incoming trace from when you posted to the endpoint from the\nREPL, including the body. If you've made multiple requests to the endpoint,\nyou'll see multiple white dots, each corresponding to a request.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_10.45.57_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_10.45.57_AM.png"}))),Object(i.b)("ol",{start:3},Object(i.b)("li",{parentName:"ol"},"Let's save the ",Object(i.b)("inlineCode",{parentName:"li"},"request")," body to a variable by typing\n",Object(i.b)("inlineCode",{parentName:"li"},"let data = request.body"),". As you can see, the autocomplete knows the field\nnames of ",Object(i.b)("inlineCode",{parentName:"li"},"request")," from the trace, and will complete them for you.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_10.47.10_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_10.47.10_AM.png"}))),Object(i.b)("ol",{start:4},Object(i.b)("li",{parentName:"ol"},"Let's put this in a datastore. Like we saw with the ",Object(i.b)("inlineCode",{parentName:"li"},"HttpClient"),' library,\ntyping "DB" in the blank will pull up all datastore functions.')),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_10.48.24_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_10.48.24_AM.png"}))),Object(i.b)("p",null,"In this case, we want ",Object(i.b)("inlineCode",{parentName:"p"},"DB::set"),", which takes three arguments."),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_10.48.51_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_10.48.51_AM.png"}))),Object(i.b)("ol",{start:5},Object(i.b)("li",{parentName:"ol"},'Now let\'s make our datastore. From the sidebar or the omnibox, create a new\ndatastore called "Requests", with fields ',Object(i.b)("inlineCode",{parentName:"li"},"data")," and ",Object(i.b)("inlineCode",{parentName:"li"},"time"),".")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/datastore.png",alt:"img/gettingstarted/datastore.png"}))),Object(i.b)("p",null,"Dark's datastores are key-value stores; each record has a unique key that is\nused to store and retrieve the value. For instance, a possible set of records\nwith keys in the above datastore would look like this:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-text"}),'{\n  key1: {\n          data: {\n                  test: "test2"\n                },\n          time: <Date: 2020-02-11T18:54:39Z>\n        },\n  key2: {\n          data: {\n                  test: "test1"\n                },\n          time: <Date: 2020-02-11T18:54:43Z>\n        }\n}\n')),Object(i.b)("ol",{start:6},Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Now that we have a datastore, let's finish our post endpoint."),Object(i.b)("p",{parentName:"li"},"The first argument is the record we're inserting. This needs to match the\nschema, and so it needs to include both ",Object(i.b)("inlineCode",{parentName:"p"},"date")," and ",Object(i.b)("inlineCode",{parentName:"p"},"time")," (you cannot insert\nrecords that are missing fields). Insert our data from above (seeing the live\nvalue to the left) and use the ",Object(i.b)("inlineCode",{parentName:"p"},"Date::now")," function to get the ",Object(i.b)("inlineCode",{parentName:"p"},"time")," field."))),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_10.57.58_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_10.57.58_AM.png"}))),Object(i.b)("ol",{start:7},Object(i.b)("li",{parentName:"ol"},"We need a unique key for each record that we store. The ",Object(i.b)("inlineCode",{parentName:"li"},"DB::generateKey"),"\nfunction generates random keys ","\u2013"," this is useful when your record has no\nobvious unique identifier.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_10.59.24_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_10.59.24_AM.png"}))),Object(i.b)("ol",{start:8},Object(i.b)("li",{parentName:"ol"},"The final argument is the Datastore: ",Object(i.b)("inlineCode",{parentName:"li"},"Requests"),".")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_11.00.04_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_11.00.04_AM.png"}))),Object(i.b)("ol",{start:9},Object(i.b)("li",{parentName:"ol"},"To call the ",Object(i.b)("inlineCode",{parentName:"li"},"DB::set")," function, we first need to run the two functions with\nside effects (",Object(i.b)("inlineCode",{parentName:"li"},"DB::generateKey")," and ",Object(i.b)("inlineCode",{parentName:"li"},"Date::now"),") by hitting the play button.\nAfter hitting those two play buttons, the ",Object(i.b)("inlineCode",{parentName:"li"},"DB::set")," play button will be\nenabled:")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_11.00.55_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_11.00.55_AM.png"}))),Object(i.b)("ol",{start:10},Object(i.b)("li",{parentName:"ol"},"Finally, hitting the play button for ",Object(i.b)("inlineCode",{parentName:"li"},"DB::set")," inserts the record into the\ndatastore. This locks the datastore, preventing us from changing the schema,\nwhich we see indicated by the red lock (\ud83d\udd12) icon.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_11.01.32_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_11.01.32_AM.png"}))),Object(i.b)("h2",{id:"cron"},"Cron"),Object(i.b)("p",null,'Now that we\'re storing requests, we can use a scheduled job (a "Cron", named\nafter the Unix cron utility) to create a report of all requests per day.'),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Hit the plus (+) button (or use the omnibox) to create a new Cron. Set it to\nrun daily, and with the name ",Object(i.b)("inlineCode",{parentName:"li"},"DailyReport"),".")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/crondaily.png",alt:"img/gettingstarted/crondaily.png"}))),Object(i.b)("ol",{start:2},Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"To know if a request was executed today, we compare it to the current time.\nLet's assign the current time in seconds to a variable ",Object(i.b)("inlineCode",{parentName:"p"},"timeSeconds"),". The\ncurrent time in seconds is ",Object(i.b)("inlineCode",{parentName:"p"},"Date::now"),", piped into ",Object(i.b)("inlineCode",{parentName:"p"},"Date::toSeconds"),". (Note:\nto create a pipe, type ",Object(i.b)("inlineCode",{parentName:"p"},"|>")," after the ",Object(i.b)("inlineCode",{parentName:"p"},"Date::now")," function)."),Object(i.b)("p",{parentName:"li"},"Run the ",Object(i.b)("inlineCode",{parentName:"p"},"Date::now")," function to see a live value for your code."))),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/cron_timeseconds.png",alt:"img/gettingstarted/cron_timeseconds.png"}))),Object(i.b)("ol",{start:3},Object(i.b)("li",{parentName:"ol"},"Next, we'll need to filter the reports to just today's reports. Set\n",Object(i.b)("inlineCode",{parentName:"li"},"allRequests")," to ",Object(i.b)("inlineCode",{parentName:"li"},"DB::getAll Requests"),". Run the function to the live value\nfor ",Object(i.b)("inlineCode",{parentName:"li"},"allRequests"),".")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/allrequests.png",alt:"img/gettingstarted/allrequests.png"}))),Object(i.b)("ol",{start:4},Object(i.b)("li",{parentName:"ol"},"To see only today's requests, use ",Object(i.b)("inlineCode",{parentName:"li"},"List::filter"),". ",Object(i.b)("inlineCode",{parentName:"li"},"List::filter")," takes two\narguments - the list to filter (in this case ",Object(i.b)("inlineCode",{parentName:"li"},"allRequests"),") and an anonymous\nfunction that determines if each element of the list element should be\nincludes in the new list. ",Object(i.b)("inlineCode",{parentName:"li"},"List::filter")," is similar to ",Object(i.b)("inlineCode",{parentName:"li"},"List::map")," and the\nconcept is explained in more detail\n",Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"https://darklang.com/docs/functional-aspects"}),"here"),".")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/listfilter.png",alt:"img/gettingstarted/listefilter.png"}))),Object(i.b)("ol",{start:5},Object(i.b)("li",{parentName:"ol"},"We want to keep only reports that occurred today, meaning we want to compare\nthe report's time to ",Object(i.b)("inlineCode",{parentName:"li"},"timeSeconds")," that we created earlier. Let's convert the\ntime of the request into seconds so that both times have the same units.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/requestseconds.png",alt:"img/gettingstarted/requestseconds.png"}))),Object(i.b)("ol",{start:6},Object(i.b)("li",{parentName:"ol"},"Next, we calculate the difference from the current time; this tells us if it\nhappened today (in the last 86,400 seconds).")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/comparison.png",alt:"img/gettingstarted/comparison.png"}))),Object(i.b)("ol",{start:7},Object(i.b)("li",{parentName:"ol"},"To see this work, it's helpful to have a recent request. If you paused in the\ntutorial, re-run the ",Object(i.b)("inlineCode",{parentName:"li"},"HttpClient::post")," function from the REPL. Then, when\nyou place your cursor in ",Object(i.b)("inlineCode",{parentName:"li"},"todayRequests")," or ",Object(i.b)("inlineCode",{parentName:"li"},"List::filter")," you'll see a list\nof requests from the last 24 hours.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/todayrequest.png",alt:"img/gettingstarted/todayrequest.png"}))),Object(i.b)("ol",{start:8},Object(i.b)("li",{parentName:"ol"},"Finally, let's emit today's requests to a background worker, using the ",Object(i.b)("inlineCode",{parentName:"li"},"emit"),"\nkeyword. ",Object(i.b)("inlineCode",{parentName:"li"},"emit")," takes two arguments, and in this case we're sending\n",Object(i.b)("inlineCode",{parentName:"li"},"todayRequests")," to a not-yet-created worker named ",Object(i.b)("inlineCode",{parentName:"li"},"storeReport"),".")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/emit.png",alt:"img/gettingstarted/emit.png"}))),Object(i.b)("ol",{start:9},Object(i.b)("li",{parentName:"ol"},'To have our first report run, hit the "replay" button in the upper right of\nthe Cron. This creates a 404 in the sidebar for the Worker ',Object(i.b)("inlineCode",{parentName:"li"},"storeReport"),".")),Object(i.b)("h2",{id:"worker"},"Worker"),Object(i.b)("p",null,"Workers process jobs in the background, ideal for daily reports. They're also\ncommonly used for sending notifications and other asynchronous tasks that we\ndon't want to handle in HTTP requests."),Object(i.b)("p",null,"If we were doing this for real, we might send the data to a 3rd party API over\nHTTP. But for the sake of simplicity, let's just store the data into the\n",Object(i.b)("inlineCode",{parentName:"p"},"DailyReport")," datastore."),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"From the 404 section of the sidebar, hit the plus (+) button to create the\n",Object(i.b)("inlineCode",{parentName:"li"},"storeReport")," Worker. The Worker will already be named, and hovering over the\nwhite dot will show you the event triggered by your cron.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/newworker.png",alt:"img/gettingstarted/newworker.png"}))),Object(i.b)("ol",{start:2},Object(i.b)("li",{parentName:"ol"},"For the report, we're going to store our data by human readable dates (like\n",Object(i.b)("inlineCode",{parentName:"li"},"02-27-2020"),"). First, we'll get the current date, and then get the pieces and\nre-aggregate them.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/humandate.png",alt:"img/gettingstarted/humandate.png"}))),Object(i.b)("ol",{start:3},Object(i.b)("li",{parentName:"ol"},"The ",Object(i.b)("inlineCode",{parentName:"li"},"event")," we received is not the exact shape we want. Let's process it\nusing ",Object(i.b)("inlineCode",{parentName:"li"},"List::map")," to keep just the ",Object(i.b)("inlineCode",{parentName:"li"},"data")," field.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/dataonly.png",alt:"img/gettingstarted/dataonly.png"}))),Object(i.b)("ol",{start:4},Object(i.b)("li",{parentName:"ol"},"Make a second datastore with three fields: the nicely-formatted date, the\nlist of requests, and the count of requests for that day.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/seconddatastore.png",alt:"img/gettingstarted/seconddatastore.png"}))),Object(i.b)("ol",{start:5},Object(i.b)("li",{parentName:"ol"},"To get the count, use ",Object(i.b)("inlineCode",{parentName:"li"},"List::length"),". Then we store it in the DB, using\n",Object(i.b)("inlineCode",{parentName:"li"},"humanDate")," as the key.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/dbsetworker.png",alt:"img/gettingstarted/dbsetworker.png"}))),Object(i.b)("ol",{start:6},Object(i.b)("li",{parentName:"ol"},"Now, our first datastore stores each incoming request, and every 24 hours our\nCron runs, sending the right reports to our worker, which stores a report in\nour second datastore.")),Object(i.b)("h2",{id:"function"},"Function"),Object(i.b)("p",null,"Let's look at creating a function to return a human readable summary of the\nnumber of reports for each day."),Object(i.b)("p",null,"The best way to create a function is by writing the code you want as part of\nyour handler, and then extracting the working code to a function. This ensures\nthat whatever code you write has traces and live data."),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Start by creating a new REPL.")),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"In the REPL, call ",Object(i.b)("inlineCode",{parentName:"p"},"DB::getAll")," to get the reports from the datastore. Run the\nfunction using the play button (\u25b6\ufe0f)."))),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/dbgetalldaily.png",alt:"img/gettingstarted/newworker.png"}))),Object(i.b)("ol",{start:3},Object(i.b)("li",{parentName:"ol"},"Open a pipeline by typing ",Object(i.b)("inlineCode",{parentName:"li"},"|>"),", and pipe into a ",Object(i.b)("inlineCode",{parentName:"li"},"List::map"),", and create\nvariables ",Object(i.b)("inlineCode",{parentName:"li"},"date")," and ",Object(i.b)("inlineCode",{parentName:"li"},"count"),".")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/functionmapvariable.png",alt:"img/gettingstarted/newworker.png"}))),Object(i.b)("ol",{start:4},Object(i.b)("li",{parentName:"ol"},"Pipe ",Object(i.b)("inlineCode",{parentName:"li"},"val.count")," into ",Object(i.b)("inlineCode",{parentName:"li"},"toString")," (shift-enter on a selected area also pipes\nthat expression).")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/valcounttostring.png",alt:"img/gettingstarted/newworker.png"}))),Object(i.b)("ol",{start:5},Object(i.b)("li",{parentName:"ol"},"Return ",Object(i.b)("inlineCode",{parentName:"li"},'date ++ ": " ++ count')," in the last line of the block.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/blockend.png",alt:"img/gettingstarted/newworker.png"}))),Object(i.b)("ol",{start:6},Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"We now have the code to generate our formatted report."),Object(i.b)("p",{parentName:"li"},"Let's extract that code into a function. Select all the code within the REPL."))),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/selectall.png",alt:"img/gettingstarted/newworker.png"}))),Object(i.b)("ol",{start:7},Object(i.b)("li",{parentName:"ol"},"Type ",Object(i.b)("inlineCode",{parentName:"li"},"Ctrl-\\")," (Control-Backslash) to open the command palette, then select\n",Object(i.b)("inlineCode",{parentName:"li"},"extract-function"),".")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/extractfunction.png",alt:"img/gettingstarted/newworker.png"}))),Object(i.b)("ol",{start:8},Object(i.b)("li",{parentName:"ol"},"This creates the function, and replaces the existing code with a call to the\nnew function.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/extractedfunction.png",alt:"img/gettingstarted/newworker.png"}))),Object(i.b)("ol",{start:9},Object(i.b)("li",{parentName:"ol"},"Click on the function reference on the right hand side of the handler to go\nto the function and rename it.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/functionspace.png",alt:"img/gettingstarted/newworker.png"}))),Object(i.b)("p",null,"Functions do not live on the main canvas. They are reusable and can be called\nfrom any handler."),Object(i.b)("p",null,"This function does not have any parameters. When you add parameters, the editor\nwill automatically create blanks for the arguments everywhere the function is\ncalled."),Object(i.b)("ol",{start:10},Object(i.b)("li",{parentName:"ol"},"Go back to the primary canvas via the sidebar, the mini-map, or a reference\non the right-hand-side of the function. Once back, create a new HTTP GET\nhandler and call the function. This creates an API endpoint which returns\nthe daily reports.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/functioncall.png",alt:"gettingstarted/newworker.png"}))),Object(i.b)("h2",{id:"external-api-call"},"External API Call"),Object(i.b)("p",null,"Dark has built-in standard libraries for working with external HTTP Calls\n(",Object(i.b)("inlineCode",{parentName:"p"},"HTTP")," and ",Object(i.b)("inlineCode",{parentName:"p"},"HttpClient"),"). This allows you to work with any external REST APIs."),Object(i.b)("p",null,"In this Tutorial, we'll send the Daily Report we created to Airtable, so other\nteam members can see it."),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Set up Airtable (~10 minutes).")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Go to ",Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"https://airtable.com"}),"Airtable")," and create a new base."),Object(i.b)("li",{parentName:"ul"},"In the base, create two columns, one for date (field type is date) and one for\nrequests (field type is number). You can see our sample\n",Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"https://airtable.com/invite/l?inviteId=invOadxgcpBKaCQiv&inviteToken=e7492a049bf7e4cd1c475b43efac35d296578f66198bff549ca99af6ee5821b4"}),"here"),".\n",Object(i.b)("img",Object(a.a)({parentName:"li"},{src:"/img/gettingstarted/airtable_base.png",alt:"img/gettingstarted/newworker.png"}))),Object(i.b)("li",{parentName:"ul"},"Generate an API key on the ",Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"https://airtable.com/account"}),"Account page"),". Put\nthe API key in a function in your Dark canvas.\n",Object(i.b)("img",Object(a.a)({parentName:"li"},{src:"/img/gettingstarted/airtable_key.png",alt:"img/gettingstarted/newworker.png"}))),Object(i.b)("li",{parentName:"ul"},"Airtable's full API documentation for your base will be available on the\n",Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"https://airtable.com/api"}),"API page"),". Within this page, go to Create Records\nin the left hand navigation to copy the URI from the right hand side.\n",Object(i.b)("img",Object(a.a)({parentName:"li"},{src:"/img/gettingstarted/airtable_url.png",alt:"img/gettingstarted/newworker.png"})))),Object(i.b)("ol",{start:2},Object(i.b)("li",{parentName:"ol"},"Add the HTTP POST call to the ",Object(i.b)("inlineCode",{parentName:"li"},"storeReport")," worker so it will run\nasynchronously. Hit ",Object(i.b)("inlineCode",{parentName:"li"},"return")," after the ",Object(i.b)("inlineCode",{parentName:"li"},"Db::set")," function. ",Object(i.b)("inlineCode",{parentName:"li"},"DB::set")," will\nstill run as a side effect, and we can add the new function.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/apiworker_newline.png",alt:"img/gettingstarted/newworker.png"}))),Object(i.b)("ol",{start:3},Object(i.b)("li",{parentName:"ol"},"The ",Object(i.b)("inlineCode",{parentName:"li"},"HttpClient::post")," function takes four arguments. Paste the URI from\nAirtable from the base into the first argument.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/api_httpclientpost.png",alt:"img/gettingstarted/newworker.png"}))),Object(i.b)("ol",{start:4},Object(i.b)("li",{parentName:"ol"},"Above ",Object(i.b)("inlineCode",{parentName:"li"},"HttpClient::post")," declare a new variable, ",Object(i.b)("inlineCode",{parentName:"li"},"airtable_header"),". Use the\n",Object(i.b)("inlineCode",{parentName:"li"},"HttpClient::bearerToken")," and pass your API key function as the argument.\nThen, pipe ",Object(i.b)("inlineCode",{parentName:"li"},"|>")," into ",Object(i.b)("inlineCode",{parentName:"li"},"Dict::merge")," and merge with\n",Object(i.b)("inlineCode",{parentName:"li"},"HttpClient::jsonContentType"),". The ",Object(i.b)("inlineCode",{parentName:"li"},"airtable_header")," will now be a nicely\nformatted header for the Airtable API.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/api_header.png",alt:"img/gettingstarted/newworker.png"}))),Object(i.b)("ol",{start:5},Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"The query can be empty for this particular request, but we do need to provide\nan argument, such as ",Object(i.b)("inlineCode",{parentName:"p"},"{}"),".")),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Add the information from the report to the body (the date and number of\nrequests). Airtable expects the following format:",Object(i.b)("br",{parentName:"p"}),"\n",Object(i.b)("inlineCode",{parentName:"p"},"records : [{fields : {Date : date, Requests : count}}]")))),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/api_body.png",alt:"img/gettingstarted/newworker.png"}))),Object(i.b)("ol",{start:7},Object(i.b)("li",{parentName:"ol"},"Run the API request in the editor by hitting the play button next to\n",Object(i.b)("inlineCode",{parentName:"li"},"HttpClient::post"),". If the request is successful, a success will be returned\nand you'll see the record in your Airtable base.")),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/api_success.png",alt:"img/gettingstarted/newworker.png"}))),Object(i.b)("p",null,"If the request is not successful, the error message will be displayed in line,\nand you'll see the ",Object(i.b)("inlineCode",{parentName:"p"},"Error")," on the error rail. In this case, the format of the\ndate passed did not expect what Airtable expected."),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/api_error.png",alt:"img/gettingstarted/newworker.png"}))),Object(i.b)("ol",{start:8},Object(i.b)("li",{parentName:"ol"},"Each time your cron runs (daily, or when triggered) a record will be added to\nyour Airtable base.")),Object(i.b)("h2",{id:"finishing-touches"},"Finishing Touches"),Object(i.b)("p",null,"Try it out:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Change your REPL to say ",Object(i.b)("inlineCode",{parentName:"p"},'"test3"')," instead of ",Object(i.b)("inlineCode",{parentName:"p"},'"test1"')," and then re-run the\nrequest by hitting the play button."),Object(i.b)("p",{parentName:"li"},Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_11.04.01_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_11.04.01_AM.png"})))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"A new trace dot will appear on the HTTP Post ",Object(i.b)("inlineCode",{parentName:"p"},"/test")," handler. It shows\n",Object(i.b)("inlineCode",{parentName:"p"},'"test6"')," in the body of the request."),Object(i.b)("p",{parentName:"li"},Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/Screen_Shot_2020-02-11_at_11.04.07_AM.png",alt:"img/gettingstarted/Screen_Shot_2020-02-11_at_11.04.07_AM.png"})))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"The new request will be in the Datastore, and if you open your reports\nendpoint tomorrow, you'll see a log of all the new requests, as well as\nupdates to your Airtable base."))),Object(i.b)("h2",{id:"one-last-thing"},"One Last Thing"),Object(i.b)("p",null,"At this point you'll have a cron that runs daily adding a row to your Airtable\nproject. Since we don't want that to happen forever you can do one of two\nthings."),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Click the pause button in the upper-left corner of the worker."),Object(i.b)("li",{parentName:"ol"},"Add logic to your cron that will skip days that have no entries.")),Object(i.b)("p",null,"If you want to do the latter, make the adjustment to the cron process by adding\nthe last 6 lines: assigning the length of ",Object(i.b)("inlineCode",{parentName:"p"},"todayRequests")," and then conditionally\nemitting ",Object(i.b)("inlineCode",{parentName:"p"},"todayRequests")," to the ",Object(i.b)("inlineCode",{parentName:"p"},"StoreReport")," worker or not."),Object(i.b)("p",null,Object(i.b)("img",Object(a.a)({parentName:"p"},{src:"/img/gettingstarted/airtable_skip_cron.png",alt:"img/gettingstarted/airtable_skip_cron.png"}))),Object(i.b)("p",null,"Congratulations! You now have your first Dark application: an API that stores\nrequests into a datastore, creates a daily report of those requests, and sends\nthe report to Airtable."))}s.isMDXComponent=!0},242:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=r.a.createContext({}),s=function(e){var t=r.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=s(e.components);return r.a.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},g=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,c=b(e,["components","mdxType","originalType","parentName"]),p=s(n),g=a,m=p["".concat(o,".").concat(g)]||p[g]||d[g]||i;return n?r.a.createElement(m,l(l({ref:t},c),{},{components:n})):r.a.createElement(m,l({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=g;var l={};for(var b in t)hasOwnProperty.call(t,b)&&(l[b]=t[b]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}g.displayName="MDXCreateElement"}}]);